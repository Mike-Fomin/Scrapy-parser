# Scrapy alcoteka parser

## Описание
Этот проект — веб-скрейпер, построенный на фреймворке Scrapy для Python. Он предназначен для сбора данных о товарах с сайта [AlkoTeka](https://alkoteka.com) через его публичный API. Скрейпер подробную информацию о продуктах для указанного города (по умолчанию: Краснодар) и сохраняет результаты в JSON-файл.

## Возможности
- Сбор данных о категориях и товарах.
- Поддержка обработки нескольких городов с уникальными идентификаторами.
- Игнорирование фильтра дублирующих запросов (`dont_filter=True`) для повторной обработки URL с разными параметрами.

## Требования
- Python 3.8+
- Scrapy 2.11+
- Дополнительные библиотеки: `pip install -r requirements.txt`

## Установка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Mike-Fomin/Scrapy_parser.git
   ```
2. Создайте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Windows: venv\Scripts\activate
   ```
3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Использование
1. Настройте конфигурацию в `settings.py` (например, пути для сохранения данных, настройки паузы между запросами).
2. 3. Перейдите в папку проекта:
   ```bash
   cd scrapy_parser
   ```
3. Запустите паука:
   ```bash
   scrapy crawl category_spider -o output.json -a city=Краснодар
   ```
   - `category_spider` — имя паука (замените на актуальное).
   - `-o output.json` — сохраняет результат в JSON-файл.
   - `-a city=Краснодар` — Выбирает город для парсинга (по умолчанию "Краснодар"). Достпуные города: Москва, Краснодар, Ростов-на-Дону, Сочи.
4. К проекту приложен файл с 20 временными прокси. Парсер уже настроен на их использование.
   
## Результат
Результатом работы является JSON-файл (`result.json`), содержащий список словарей с данными о товарах. Каждый словарь включает:
- `timestamp`: Время сбора данных (в формате Unix timestamp).
- `RPC`: Артикул товара.
- `url`: Ссылка на страницу товара.
- `title`: Название товара с объемом (если применимо).
- `marketing_tags`: Список маркетинговых тегов.
- `brand`: Бренд товара.
- `section`: Иерархия категорий (родительская и дочерняя).
- `price_data`: Текущая цена, оригинальная цена и процент скидки.
- `stock`: Наличие и количество на складе.
- `assets`: Ссылка на основное изображение (другие типы медиа — заглушки).
- `metadata`: Описание товара и его характеристики.
- `variants`: Количество вариантов товара (по умолчанию: 1).
осы или предложения, пишите: your.email@example.com
##
Проект разработан в рамках тестового задания на интервью.
